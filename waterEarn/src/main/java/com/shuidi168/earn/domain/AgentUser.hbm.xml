<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE hibernate-mapping PUBLIC "-//Hibernate/Hibernate Mapping DTD 3.0//EN"
"http://www.hibernate.org/dtd/hibernate-mapping-3.0.dtd">
<!-- Mapping file autogenerated by MyEclipse Persistence Tools -->
<hibernate-mapping>
	<class name="com.shuidi168.earn.domain.AgentUser" table="agent_user" catalog="water_earn" dynamic-insert="true">
		<id name="id" type="java.lang.Integer">
			<column name="id" />
			<generator class="native" />
		</id>
		<property name="phone" type="java.lang.String">
			<column name="phone" length="11" />
		</property>
		<property name="password" type="java.lang.String">
			<column name="password" length="32" />
		</property>
		<property name="money" type="java.lang.Double">
			<column name="money" precision="14" scale="6" />
		</property>
		<property name="wxOpenId" type="java.lang.String">
			<column name="wx_open_id" length="32" />
		</property>
		<property name="wxUnionId" type="java.lang.String">
			<column name="wx_union_id" length="32" />
		</property>
		<property name="nickname" type="java.lang.String">
			<column name="nickname" length="10" />
		</property>
		<property name="country" type="java.lang.String">
			<column name="country" length="10">
				<comment>国家</comment>
			</column>
		</property>
		<property name="province" type="java.lang.String">
			<column name="province" length="10">
				<comment>省</comment>
			</column>
		</property>
		<property name="city" type="java.lang.String">
			<column name="city" length="15">
				<comment>市</comment>
			</column>
		</property>
		<property name="sex" type="java.lang.Integer">
			<column name="sex" length="11">
				<comment>0:女,1:男</comment>
			</column>
		</property>
		<property name="regTimestamp" type="java.sql.Timestamp">
			<column name="reg_timestamp" length="19">
				<comment>注册账号时间</comment>
			</column>
		</property>
		<property name="lastLoginTimestamp" type="java.sql.Timestamp">
			<column name="last_login_timestamp" length="19">
				<comment>最后登陆时间</comment>
			</column>
		</property>
		<property name="jwtToken" type="java.lang.String">
			<column name="jwt_token">
				<comment>身份令牌</comment>
			</column>
		</property>
		<property name="isLock" type="java.lang.Integer">
			<column name="is_lock" />
		</property>
		<property name="lockTypeId" type="java.lang.Integer">
			<column name="lock_type_id" not-null="true" />
		</property>
		<property name="devicesId" type="java.lang.Integer">
			<column name="devices_id" not-null="true" />
		</property>
		<property name="inviteCode" type="java.lang.String">
			<column name="invite_code" length="6">
				<comment>邀请码</comment>
			</column>
		</property>
		<property name="parentId" type="java.lang.Integer">
			<column name="parent_id" />
		</property>
	</class>

	<query name="queryAgentUserByPhone">
		from AgentUser where phone = ?
	</query>
	<query name="queryAgentUserIdByInviteCode">
		select new AgentUser(a.id) from AgentUser a where
		inviteCode = ?
	</query>
	<query name="queryAgentUserByPasswordAndPhone">
		from AgentUser where phone = ? and password=?
	</query>
	<query name="queryAgentPhoneByOpenId">
		from AgentUser where wxOpenId = ?
	</query>
</hibernate-mapping>
